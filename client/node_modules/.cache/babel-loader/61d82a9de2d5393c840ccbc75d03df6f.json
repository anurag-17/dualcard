{"ast":null,"code":"import axios from \"axios\";\nimport { CLEAR_ERRORS, DETAIL_USER_FAIL, DETAIL_USER_REQUEST, DETAIL_USER_SUCCESS, LOGIN_FAIL, LOGIN_REQUEST, LOGIN_SUCCESS, LOGOUT_USER_FAIL, LOGOUT_USER_SUCCESS, REGISTER_USER_FAIL, REGISTER_USER_REQUEST, REGISTER_USER_SUCCESS, UPDATE_PASSWORD_FAIL, UPDATE_PASSWORD_REQUEST, UPDATE_PASSWORD_SUCCESS, UPDATE_PROFIE_REQUEST, UPDATE_PROFIE_SUCCESS } from \"../constants/userConstants\";\nimport { useNavigate } from \"react-router-dom\";\nexport const login = (email, password) => async (dispatch, getState) => {\n  console.log(email, password);\n\n  try {\n    dispatch({\n      type: LOGIN_REQUEST\n    });\n    const {\n      data\n    } = await axios.post(`/api/auth/login`, {\n      email,\n      password\n    });\n    dispatch({\n      type: LOGIN_SUCCESS,\n      payload: data.user\n    });\n    console.log(data);\n  } catch (error) {\n    dispatch({\n      type: LOGIN_FAIL,\n      payload: error.response.data\n    });\n    console.log(error.response);\n  }\n};\nexport const register = userData => async dispatch => {\n  try {\n    dispatch({\n      type: REGISTER_USER_REQUEST\n    }); // const config = { headers: { \"Content-Type\": \"Application/json\" } };\n\n    const {\n      data\n    } = await axios.post(`http://localhost:5000/api/auth/register`, userData);\n    dispatch({\n      type: REGISTER_USER_SUCCESS,\n      payload: data.user\n    });\n    console.log(data);\n  } catch (error) {\n    dispatch({\n      type: REGISTER_USER_FAIL,\n      payload: error.response.data\n    }); // console.log(error);\n  }\n};\nexport const logout = () => async dispatch => {\n  try {\n    await axios.get(`/api/auth/logout`);\n    dispatch({\n      type: LOGOUT_USER_SUCCESS\n    });\n  } catch (error) {\n    dispatch({\n      type: LOGOUT_USER_FAIL,\n      payload: error.response.data.message\n    });\n  }\n}; //////////////////loaduser////////////////\n\nexport const loaduser = () => async dispatch => {\n  try {\n    dispatch({\n      type: DETAIL_USER_REQUEST\n    });\n    const {\n      data\n    } = await axios.get(`/api/auth/me`);\n    dispatch({\n      type: DETAIL_USER_SUCCESS,\n      payload: data.user\n    });\n    console.log(data.user);\n  } catch (error) {\n    dispatch({\n      type: DETAIL_USER_FAIL\n    });\n  }\n};\nexport const updatePassword = password => async dispatch => {\n  try {\n    dispatch({\n      type: UPDATE_PASSWORD_REQUEST\n    });\n    const config = {\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    };\n    const data = await axios.put(`/api/auth/update/password`, password, config);\n    dispatch({\n      type: UPDATE_PASSWORD_SUCCESS,\n      payload: data.success\n    });\n  } catch (error) {\n    dispatch({\n      type: UPDATE_PASSWORD_FAIL,\n      payload: error.response.data.message\n    });\n  }\n};\nexport const updateprofile = updatedata => async dispatch => {\n  try {\n    dispatch({\n      type: UPDATE_PROFIE_REQUEST\n    });\n    const config = {\n      headers: {\n        \"Content-Type\": \"multipart/form-data\"\n      }\n    }; // const data = await axios.put(\n\n    const data = await axios.put(`/api/auth/update/profile`, updatedata, config);\n    console.log(updatedata);\n    dispatch({\n      type: UPDATE_PROFIE_SUCCESS,\n      payload: data.success\n    });\n  } catch (error) {\n    dispatch({\n      type: UPDATE_PASSWORD_FAIL,\n      payload: error.response.data\n    });\n  }\n}; //////////////////loaduser////////////////\n//clearing errors\n\nexport const clearErrors = () => async dispatch => {\n  dispatch({\n    type: CLEAR_ERRORS\n  });\n};","map":{"version":3,"names":["axios","CLEAR_ERRORS","DETAIL_USER_FAIL","DETAIL_USER_REQUEST","DETAIL_USER_SUCCESS","LOGIN_FAIL","LOGIN_REQUEST","LOGIN_SUCCESS","LOGOUT_USER_FAIL","LOGOUT_USER_SUCCESS","REGISTER_USER_FAIL","REGISTER_USER_REQUEST","REGISTER_USER_SUCCESS","UPDATE_PASSWORD_FAIL","UPDATE_PASSWORD_REQUEST","UPDATE_PASSWORD_SUCCESS","UPDATE_PROFIE_REQUEST","UPDATE_PROFIE_SUCCESS","useNavigate","login","email","password","dispatch","getState","console","log","type","data","post","payload","user","error","response","register","userData","logout","get","message","loaduser","updatePassword","config","headers","put","success","updateprofile","updatedata","clearErrors"],"sources":["D:/Duel-card/client/src/actions/userAction.js"],"sourcesContent":["import axios from \"axios\";\r\nimport {\r\n  CLEAR_ERRORS,\r\n  DETAIL_USER_FAIL,\r\n  DETAIL_USER_REQUEST,\r\n  DETAIL_USER_SUCCESS,\r\n  LOGIN_FAIL,\r\n  LOGIN_REQUEST,\r\n  LOGIN_SUCCESS,\r\n  LOGOUT_USER_FAIL,\r\n  LOGOUT_USER_SUCCESS,\r\n  REGISTER_USER_FAIL,\r\n  REGISTER_USER_REQUEST,\r\n  REGISTER_USER_SUCCESS,\r\n  UPDATE_PASSWORD_FAIL,\r\n  UPDATE_PASSWORD_REQUEST,\r\n  UPDATE_PASSWORD_SUCCESS,\r\n  UPDATE_PROFIE_REQUEST,\r\n  UPDATE_PROFIE_SUCCESS,\r\n} from \"../constants/userConstants\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\n\r\nexport const login = (email, password) => async (dispatch, getState) => {\r\n  console.log(email, password);\r\n  try {\r\n    dispatch({ type: LOGIN_REQUEST });\r\n    const { data } = await axios.post(`/api/auth/login`, { email, password });\r\n\r\n    dispatch({ type: LOGIN_SUCCESS, payload: data.user });\r\n    console.log(data);\r\n  } catch (error) {\r\n    dispatch({ type: LOGIN_FAIL, payload: error.response.data });\r\n\r\n    console.log(error.response);\r\n  }\r\n  \r\n};\r\n\r\nexport const register = (userData) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: REGISTER_USER_REQUEST });\r\n\r\n    // const config = { headers: { \"Content-Type\": \"Application/json\" } };\r\n\r\n    const { data } = await axios.post(`http://localhost:5000/api/auth/register`, userData);\r\n        \r\n    \r\n\r\n    dispatch({ type: REGISTER_USER_SUCCESS, payload: data.user });\r\n    console.log(data);\r\n  } catch (error) {\r\n    dispatch({\r\n      type: REGISTER_USER_FAIL,\r\n      payload: error.response.data,\r\n    });\r\n    // console.log(error);\r\n  }\r\n};\r\nexport const logout = () => async (dispatch) => {\r\n  try {\r\n    await axios.get(`/api/auth/logout`);\r\n\r\n    dispatch({ type: LOGOUT_USER_SUCCESS });\r\n  } catch (error) {\r\n    dispatch({ type: LOGOUT_USER_FAIL, payload: error.response.data.message });\r\n  }\r\n};\r\n//////////////////loaduser////////////////\r\nexport const loaduser = () => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: DETAIL_USER_REQUEST });\r\n    const { data } = await axios.get(`/api/auth/me`);\r\n\r\n    dispatch({ type: DETAIL_USER_SUCCESS, payload: data.user });\r\n\r\n    console.log(data.user);\r\n  } catch (error) {\r\n    dispatch({ type: DETAIL_USER_FAIL });\r\n  }\r\n};\r\nexport const updatePassword = (password) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: UPDATE_PASSWORD_REQUEST });\r\n\r\n    const config = { headers: { \"Content-Type\": \"application/json\" } };\r\n\r\n    const data = await axios.put(`/api/auth/update/password`, password, config);\r\n\r\n    dispatch({ type: UPDATE_PASSWORD_SUCCESS, payload: data.success });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: UPDATE_PASSWORD_FAIL,\r\n      payload: error.response.data.message,\r\n    });\r\n  }\r\n};\r\nexport const updateprofile = (updatedata) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: UPDATE_PROFIE_REQUEST });\r\n    const config = { headers: { \"Content-Type\": \"multipart/form-data\" } };  // const data = await axios.put(\r\n      const data = await axios.put(\r\n      `/api/auth/update/profile`,\r\n      updatedata,\r\n      config\r\n    );\r\n    console.log(updatedata);\r\n    dispatch({ type: UPDATE_PROFIE_SUCCESS, payload: data.success });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: UPDATE_PASSWORD_FAIL,\r\n      payload: error.response.data,\r\n    });\r\n  }\r\n};\r\n//////////////////loaduser////////////////\r\n\r\n//clearing errors\r\nexport const clearErrors = () => async (dispatch) => {\r\n  dispatch({ type: CLEAR_ERRORS });\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}